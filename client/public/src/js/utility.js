const BACKEND_APP_URI="https://pwagram001.herokuapp.com",POSTS_OBJECT_STORE="posts",POSTS_SYNC_OBJECT_STORE="sync-posts",POSTS_SYNC_TAG="sync-new-posts",POSTS_PERIODIC_SYNC_TAG="periodic-sync-posts",CONFIRM_NOTIFICATION_TAG="confirm-notification",CONFIRM_NOTIFICATION_CONFIRM_ACTION="confirm",CONFIRM_NOTIFICATION_CANCEL_ACTION="cancel",VAPID_PUBLIC_KEY="BKTJopN7Tx0th5RylFIyz0rtwpQ2AeIoNl9vwMdPoXGqN9-D1cEijD0pcTnOxqblBBDTmILqrv6q0EKvBVfxOIs",dbPromise=idb.openDB("posts-store",1,{upgrade(t){t.objectStoreNames.contains("posts")||t.createObjectStore("posts",{keyPath:"id"}),t.objectStoreNames.contains("sync-posts")||t.createObjectStore("sync-posts",{keyPath:"postNum",autoIncrement:!0})}}),writeData=async(t,e)=>{try{const a=(await dbPromise).transaction(t,"readwrite"),o=a.objectStore(t);await o.put(e),await a.done}catch(t){}},readAllData=async t=>{try{const e=(await dbPromise).transaction(t,"readonly").objectStore(t);return await e.getAll()}catch(t){}},clearAllData=async t=>{try{const e=(await dbPromise).transaction(t,"readwrite"),a=e.objectStore(t);await a.clear(),await e.done}catch(t){}},deleteItemFromData=async(t,e)=>{try{const a=(await dbPromise).transaction(t,"readwrite"),o=a.objectStore(t);await o.delete(e),await a.done}catch(t){}},urlBase64ToUint8Array=t=>{const e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),a=window.atob(e),o=new Uint8Array(a.length);for(let t=0;t<a.length;++t)o[t]=a.charCodeAt(t);return o},dataURItoBlob=t=>{const e=atob(t.split(",")[1]),a=t.split(",")[0].split(":")[1].split(";")[0],o=new ArrayBuffer(e.length),r=new Uint8Array(o);for(let t=0;t<e.length;t++)r[t]=e.charCodeAt(t);return new Blob([o],{type:a})};